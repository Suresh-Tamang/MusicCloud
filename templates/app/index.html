{% extends 'base.html' %} {% load static %} {% block content %}
<div class="fixed-width">
  <div class="now-playing">
    <div class="artist">
      <div class="max-w-xs w-full rounded-md select-none">
        <img alt="Album cover of Leona Lewis Spirit showing a close-up portrait of a woman with curly brown hair and green eyes" class="w-full rounded-md" draggable="false" height="300" src="https://storage.googleapis.com/a1aa/image/cdc7ca56-3ecf-4f8c-b495-7ae8a03955fb.jpg" width="300"/>
        <div class="mt-4 flex items-center justify-between text-gray-300">
         <div class="flex items-center space-x-3">
          <i class="far fa-heart text-2xl cursor-pointer">
          </i>
          <div>
           <p class="text-sm font-light">
            Now Playing
           </p>
           <p class="text-base font-semibold text-white">
            <span class="underline cursor-pointer">
             Bleeding Love
            </span>
            by
            <span class="underline cursor-pointer">
             Leona Lewis
            </span>
           </p>
          </div>
         </div>
         <i class="fas fa-ellipsis-v text-xl cursor-pointer">
         </i>
        </div>
       </div>
    </div>
    <div class="controlling">
      <div class="min-h-screen flex items-start justify-start p-6" style="background: linear-gradient(180deg, #a98a7f 0%, #8f7a70 100%)">
        <div class="text-white max-w-md w-full">
          <div class="flex justify-between items-center mb-2">
            <span class="text-sm font-light">Current Station</span>
            <div class="flex space-x-4 text-white text-xl">
              <button aria-label="Edit Station" class="focus:outline-none">
                <i class="fas fa-edit"></i>
              </button>
              <button aria-label="Share Station" class="focus:outline-none">
                <i class="fas fa-share-alt"></i>
              </button>
            </div>
          </div>
          <h1 class="text-5xl font-normal mb-8 leading-tight">Timeless Heartache</h1>
          <div class="flex items-center space-x-8">
            <div id="progress-circle" class="relative w-24 h-24 rounded-full bg-[#7a665e] flex flex-col items-center justify-center text-white text-center cursor-pointer" aria-label="Variety progress circle" role="slider" aria-valuemin="0" aria-valuemax="100" aria-valuenow="50" tabindex="0">
              <svg class="absolute top-0 left-0 w-24 h-24" viewBox="0 0 96 96" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <circle cx="48" cy="48" r="46" stroke="#D9D9D9" stroke-width="4" />
                <circle
                  id="progress-bar"
                  cx="48"
                  cy="48"
                  r="46"
                  stroke="#B07A5A"
                  stroke-width="4"
                  stroke-dasharray="289"
                  stroke-dashoffset="144.5"
                  stroke-linecap="round"
                  transform="rotate(-90 48 48)"
                  style="transition: stroke-dashoffset 0.3s ease"
                />
              </svg>
              <div class="relative z-10">
                <div id="progress-text" class="text-2xl font-light select-none">50%</div>
                <div class="text-xs font-light tracking-widest mt-1 select-none">VARIETY</div>
              </div>
              <div id="progress-dot" class="absolute bottom-2 left-1/2 -translate-x-1/2 w-3 h-3 rounded-full bg-[#B07A5A]"></div>
            </div>
            <div class="flex flex-col space-y-4 text-sm font-light">
              <label for="shuffle-toggle" class="flex items-center space-x-2 cursor-pointer select-none">
                <input id="shuffle-toggle" type="checkbox" class="toggle-checkbox peer hidden" />
                <div id="shuffle-button" class="w-10 h-5 bg-gray-400 rounded-full relative transition-colors duration-300">
                  <div class="w-4 h-4 bg-gray-700 rounded-full absolute top-0.5 left-0.5 transition-all duration-300"></div>
                </div>
                <span class="text-white">Shuffle Stations <i class="fas fa-random ml-1"></i></span>
              </label>
              <label for="explicit-toggle" class="flex items-center space-x-2 cursor-pointer select-none">
                <input id="explicit-toggle" type="checkbox" class="toggle-checkbox peer hidden" />
                <div id="explicit-button" class="w-10 h-5 bg-gray-400 rounded-full relative transition-colors duration-300">
                  <div class="w-4 h-4 bg-gray-700 rounded-full absolute top-0.5 left-0.5 transition-all duration-300"></div>
                </div>
                <span class="text-white">Explicit Filter</span>
              </label>
            </div>
          </div>
        </div>
      </div>
    
    </div>
    <div class="explore">

    </div>
  </div>
</div>

<div class="fixed-width">
  <div class="song-list">
    <h1>Music Library</h1>

    <div class="songs-container">
      {% for song in songs %}
      <div class="song-card" data-audio-url="{{ song.audio_file.url }}">
        <div class="song-cover">
          <img src="{{ song.cover_art.url }}" alt="{{ song.title }} cover" />
        </div>
        <div class="song-info">
          <h3>{{ song.title }}</h3>
          <p>{{ song.artist }}</p>
          {% if song.album %}
          <p class="album">Album: {{ song.album }}</p>
          {% endif %} {% if song.genre %}
          <p class="genre">Genre: {{ song.genre }}</p>
          {% endif %}
          <p class="duration">{{ song.duration }}</p>
        </div>
        <button class="play-btn" data-song-id="{{ song.id }}">
          <i class="fas fa-play"></i>
        </button>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
<style>
  .song-list {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
  }

  .songs-container {
    margin-bottom: 100px;
    /* Space for fixed player */
  }

  .song-card {
    display: flex;
    align-items: center;
    padding: 15px;
    margin-bottom: 15px;
    background: #f8f9fa;
    border-radius: 8px;
    transition: all 0.3s ease;
  }

  .song-card.currently-playing {
    background: #e3f2fd;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  }

  .song-cover {
    width: 80px;
    height: 80px;
    margin-right: 20px;
  }

  .song-cover img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 4px;
  }

  .song-info {
    flex: 1;
  }

  .song-info h3 {
    margin: 0 0 5px 0;
    color: #333;
  }

  .song-info p {
    margin: 3px 0;
    color: #666;
    font-size: 0.9em;
  }

  .play-btn {
    background: #1db954;
    color: white;
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
  }

  .play-btn:hover {
    background: #1ed760;
    transform: scale(1.05);
  }

  .album,
  .genre {
    font-style: italic;
    color: #888 !important;
  }

  .duration {
    color: #555 !important;
    font-weight: bold;
  }
</style>
{% endblock %}
</div>